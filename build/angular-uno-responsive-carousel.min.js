(function(namespace){angular.module(namespace,["ngAnimate"]).directive(namespace,function($interval,$templateCache,$compile,$animate){return{restrict:"A",scope:{},link:function($scope,element,attrs){var time=parseInt(attrs[namespace+"Time"]),type=attrs[namespace+"Type"],timeTransition=parseInt(attrs[namespace+"TimeTransition"]),classItems=attrs[namespace+"ClassItems"],navTemplate=$templateCache.get(attrs[namespace+"Nav"]),navscope=$scope.$new(true),items=angular.element(element[0].querySelectorAll("."+classItems)),changing=false,core=undefined;navscope.childActivated=attrs[namespace+"Activated"]||0;if(items.length<=0||timeTransition>time)return;element.addClass("uno-carousel");element.addClass("uno-carousel-"+type);$animate.addClass(items[navscope.childActivated],"activated");var change=function(next){if(changing)return;changing=true;var current=navscope.childActivated;next=next<0?items.length-1:next>=items.length?0:next;navscope.childActivated=next;$animate.removeClass(items[current],"activated");$animate.addClass(items[next],"activated").then(function(){changing=false})};var goTo=function(i){stop();change(i)};var next=function(){goTo(navscope.childActivated+1)};var previous=function(){goTo(navscope.childActivated-1)};var start=function(){core=$interval(function(){change(navscope.childActivated+1)},time)};var stop=function(){if(core!==undefined){$interval.cancel(core);core=undefined}};if(navscope){navscope.showNext=true;navscope.showPrevious=true;navscope.next=next;navscope.previous=previous;navscope.goTo=goTo;navscope.items=items;var navCompiled=$compile(navTemplate)(navscope);element.append(navCompiled)}element.on("$destroy",stop);element.on("mouseenter",stop);element.on("mouseleave",start);start()}}})})("unoCarousel");